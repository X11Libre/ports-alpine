# Contributor: SÃ¶ren Tempel <soeren+alpine@soeren-tempel.net>
# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=xf86-input-libinput
pkgver=1.5.0.1
pkgrel=0
pkgdesc="XLibre input driver based on libinput"
url="https://github.com/X11Libre/xf86-input/libinput"
arch="all"
license="MIT"
depends_dev="libinput-dev xorg-server-dev"
makedepends="$depends_dev eudev-dev meson xorgproto"
subpackages="$pkgname-dev $pkgname-doc"
source="https://github.com/X11Libre/$pkgname/archive/refs/tags/xlibre-$pkgname-$pkgver.tar.gz"
builddir="$srcdir/$pkgname-xlibre-$pkgname-$pkgver"

build() {
	abuild-meson \
	    . output
	meson compile -C output
}

check() {
	meson test --print-errorlogs -C output
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
3b1b3fe28d69bde98d7e5aac2c1cdbf378a9966ca3ba806d14e8e09e370d368e65f6ddb42c2f2fb01eee86c6e310f98ebb7be30096eb21feb20deffc99c65c92  xlibre-xf86-input-libinput-1.5.0.1.tar.gz
"
